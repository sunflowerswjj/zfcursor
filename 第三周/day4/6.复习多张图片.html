<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        img{
            width: 200px;
            height: 200px;
            border-radius: 50%;
            display: block;
        }
    </style>
</head>
<body>
<div style="height: 1000px"></div>
<img src="img2/default.gif" realImg ="img2/1.jpg"/>
<img src="img2/default.gif" realImg ="img2/2.jpg"/>
<img src="img2/default.gif" realImg ="img2/3.jpg"/>
<img src="img2/default.gif" realImg ="img2/4.jpg"/>
<img src="img2/default.gif" realImg ="img2/5.jpg"/>
<img src="img2/default.gif" realImg ="img2/6.jpg"/>
<img src="img2/default.gif" realImg ="img2/7.jpg"/>
<img src="img2/default.gif" realImg ="img2/8.jpg"/>
<img src="img2/default.gif" realImg ="img2/9.jpg"/>
<img src="img2/default.gif" realImg ="img2/10.jpg"/>
</body>
</html>
<script src="utils.js"></script>
<script>
    var imgs=document.getElementsByTagName("img");
    var clientH=utils.win("clientHeight");
    window.onscroll= function () {
        scrollT=utils.win("scrollTop");
        var winT=clientH+scrollT;
        for(var i=0;i<imgs.length;i++){
            var cur=imgs[i];
            var imgT=utils.offset(cur).t+cur.offsetHeight;
            if(winT>imgT){
                lazyImg(cur);
            }
        }
    };
    function lazyImg(ele){
        if(ele.loaded)return ;
        var tempImg=new Image();
        tempImg.src=ele.getAttribute("realImg");
        tempImg.onload= function () {
            ele.src=this.src;
            tempImg=null;
            ele.loaded=true;
        }
        tempImg.onerror= function () {
            ele.src="img2/error.jpg";
            tempImg=null;
            ele.loaded=true;
        }
    }
</script>